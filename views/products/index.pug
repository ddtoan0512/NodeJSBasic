extends ../layouts/common.pug

block content  
    h1 Products
    .d-flex.align-items-center
        form.ml-auto(action="/products/search", method="GET", class="d-flex")
            input(type="text", name="q", class="form-control")
            button(class="btn btn-primary ml-2") Search

    .container
        .row
            each product in products
                .d-flex.justify-content-center.col-sm-12.col-md-6.col-lg-3.pb-5
                    .card(style='width: 30rem;')
                        img.card-img-top(src=product.image)
                        .card-body  
                            h5.card-title= product.name
                            p.card-text= product.description
                            a.btn.btn-primary(href='/cart/add/' + product.id) Add To Cart


    nav(aria-label='Page navigation example')
        ul.pagination.justify-content-center
            li.page-item
            a.page-link(href='/products?page=' + perviousPage, aria-label='Previous')
                span(aria-hidden='true') &laquo;
                span.sr-only Previous
            - var n = 1
            while n <= totalPage
                li.page-item
                a.page-link(href='/products?page='+ n)= n++
            a.page-link(href='/products?page=' + nextPage, aria-label='Next')
                span(aria-hidden='true') &raquo;
                span.sr-only Next                     